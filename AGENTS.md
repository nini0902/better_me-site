# AGENTS.md

## 專案目標
- 建立一個純前端網站，協助失戀者設定自我成長目標，並自動生成改善計畫。
- 使用 CDN 版本 JS 套件，資料儲存於 GUN.js，無後端。
- 採用 TDD 流程，所有功能皆以測試驅動開發。

## 專案結構
```
/
├── index.html          # 主頁面
├── src/
│   ├── js/
│   │   ├── app.js     # 應用程式主要邏輯
│   │   ├── goals.js   # 目標管理相關功能
│   │   └── plans.js   # 計畫生成與追蹤功能
│   └── styles/
│       └── main.css   # 主要樣式表
├── tests/
│   ├── goals.test.js  # 目標相關測試
│   └── plans.test.js  # 計畫相關測試
└── .github/
    └── copilot-instructions.md
```

## 技術堆疊
- 前端框架：純 JavaScript (ES6+)
- 資料庫：GUN.js (去中心化資料庫)
- 測試框架：Mocha + Chai
- 樣式：原生 CSS（CSS Variables）

## 核心類別設計
1. Goal 類別：
   - 屬性：title, category, deadline, subGoals
   - 功能：目標驗證、進度追蹤

2. GoalManager 類別：
   - 功能：新增目標、過濾目標、目標推薦
   - 與 GUN.js 整合，處理資料持久化

3. PlanGenerator 類別：
   - 功能：根據目標生成改善計畫
   - 自動調整計畫難度與進度

4. ProgressTracker 類別：
   - 功能：追蹤任務完成狀態
   - 計算總體進度
   - 管理獎勵機制

## 目前進度
1. ✅ 需求分析
   - 完成 PRD.md，定義產品功能與規格
   - 明確目標客群與使用情境

2. ✅ 專案設定
   - 建立基本專案結構
   - 設定測試環境（Mocha + Chai）
   - 建立基礎 UI 框架

3. ✅ 測試案例
   - 完成目標管理相關測試（goals.test.js）
   - 完成計畫生成相關測試（plans.test.js）

## 開發規則
1. 程式碼規範
   - 使用 ES6+ 語法
   - 遵循 TDD 開發流程
   - 保持函數單一職責
   - 註解必須清晰明確

2. Git 工作流程
   - 功能開發使用 feature 分支
   - 提交訊息需清楚描述變更
   - 合併前必須通過所有測試

3. 測試規則
   - 新功能必須先寫測試
   - 確保測試覆蓋率
   - 使用 describe 和 it 清楚描述測試目的

4. 資料管理
   - 所有資料操作通過 GUN.js
   - 實作離線支援
   - 注意資料安全性

## 下一步
1. 實作核心功能
   - [ ] 實作 Goal 類別（goals.js）
   - [ ] 實作 GoalManager 類別
   - [ ] 設定 GUN.js 資料庫連接

2. 開發前端介面
   - [ ] 完成目標設定表單
   - [ ] 實作目標列表與過濾
   - [ ] 加入進度追蹤視覺化

3. 開發計畫生成功能
   - [ ] 實作 PlanGenerator 類別
   - [ ] 完成獎勵系統
   - [ ] 整合進度追蹤

## 注意事項
1. 保持程式碼模組化，便於維護和擴展
2. 優先實作核心功能，再加入進階特性
3. 注意效能優化，特別是在資料操作方面
4. 確保良好的錯誤處理機制
5. 持續更新本文檔，記錄開發進度和決策
